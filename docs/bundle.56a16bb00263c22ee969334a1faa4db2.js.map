{"version":3,"file":"bundle.xxxxxxxxxxxxxxxxxxxx.js","mappings":"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","sources":["webpack://di-ts-in-practice/./node_modules/@wessberg/di/dist/esm/index.js","webpack://di-ts-in-practice/./src/adapters/dateTimeSource/browserDateTimeSource.ts","webpack://di-ts-in-practice/./src/adapters/dateTimeSource/composition.ts","webpack://di-ts-in-practice/./src/adapters/uuidGenerator/composition.ts","webpack://di-ts-in-practice/./src/adapters/uuidGenerator/idGenerator.ts","webpack://di-ts-in-practice/./src/composition/core.ts","webpack://di-ts-in-practice/./src/composition/index.ts","webpack://di-ts-in-practice/./src/core/composition.ts","webpack://di-ts-in-practice/./src/core/initiator.ts","webpack://di-ts-in-practice/./src/effects/eventHandler/clickHandler.ts","webpack://di-ts-in-practice/./src/effects/eventHandler/composition.ts","webpack://di-ts-in-practice/./src/effects/logger/composition.ts","webpack://di-ts-in-practice/./src/effects/logger/consoleLogger.ts","webpack://di-ts-in-practice/./src/effects/timer/composition.ts","webpack://di-ts-in-practice/./src/effects/timer/timer.ts","webpack://di-ts-in-practice/./node_modules/nanoid/url-alphabet/index.js","webpack://di-ts-in-practice/./node_modules/nanoid/index.browser.js","webpack://di-ts-in-practice/webpack/bootstrap","webpack://di-ts-in-practice/webpack/runtime/define property getters","webpack://di-ts-in-practice/webpack/runtime/hasOwnProperty shorthand","webpack://di-ts-in-practice/webpack/runtime/make namespace object","webpack://di-ts-in-practice/./src/index.ts"],"sourcesContent":["const CONSTRUCTOR_ARGUMENTS_SYMBOL_IDENTIFIER = `___CTOR_ARGS___`;\nconst CONSTRUCTOR_ARGUMENTS_SYMBOL = Symbol.for(CONSTRUCTOR_ARGUMENTS_SYMBOL_IDENTIFIER);\n\n/**\n * A Dependency-Injection container that holds services and can produce instances of them as required.\n * It mimics reflection by parsing the app at compile-time and supporting the generic-reflection syntax.\n * @author Frederik Wessberg\n */\nclass DIContainer {\n    /**\n     * A map between interface names and the services that should be dependency injected\n     */\n    constructorArguments = new Map();\n    /**\n     * A Map between identifying names for services and their IRegistrationRecords.\n     */\n    serviceRegistry = new Map();\n    /**\n     * A map between identifying names for services and concrete instances of their implementation.\n     */\n    instances = new Map();\n    registerSingleton(newExpression, options) {\n        if (options == null) {\n            throw new ReferenceError(`2 arguments required, but only 0 present. ${DI_COMPILER_ERROR_HINT}`);\n        }\n        if (newExpression == null) {\n            return this.register(\"SINGLETON\", newExpression, options);\n        }\n        else {\n            return this.register(\"SINGLETON\", newExpression, options);\n        }\n    }\n    registerTransient(newExpression, options) {\n        if (options == null) {\n            throw new ReferenceError(`2 arguments required, but only 0 present. ${DI_COMPILER_ERROR_HINT}`);\n        }\n        if (newExpression == null) {\n            return this.register(\"TRANSIENT\", newExpression, options);\n        }\n        else {\n            return this.register(\"TRANSIENT\", newExpression, options);\n        }\n    }\n    /**\n     * Gets an instance of the service matching the interface given as a generic type parameter.\n     * For example, 'container.get<IFoo>()' returns a concrete instance of the implementation associated with the\n     * generic interface name.\n     *\n     * You should not pass any options to the method if using the compiler. It will do that automatically.\n     */\n    get(options) {\n        if (options == null) {\n            throw new ReferenceError(`1 argument required, but only 0 present. ${DI_COMPILER_ERROR_HINT}`);\n        }\n        return this.constructInstance(options);\n    }\n    /**\n     * Returns true if a service has been registered matching the interface given as a generic type parameter.\n     * For example, 'container.get<IFoo>()' returns a concrete instance of the implementation associated with the\n     * generic interface name.\n     *\n     * You should not pass any options to the method if using the compiler. It will do that automatically.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    has(options) {\n        if (options == null) {\n            throw new ReferenceError(`1 argument required, but only 0 present. ${DI_COMPILER_ERROR_HINT}`);\n        }\n        return this.serviceRegistry.has(options.identifier);\n    }\n    register(kind, newExpression, options) {\n        // Take all of the constructor arguments for the implementation\n        const implementationArguments = \"implementation\" in options &&\n            options.implementation != null &&\n            options.implementation[CONSTRUCTOR_ARGUMENTS_SYMBOL] != null\n            ? options.implementation[CONSTRUCTOR_ARGUMENTS_SYMBOL]\n            : [];\n        this.constructorArguments.set(options.identifier, implementationArguments);\n        this.serviceRegistry.set(options.identifier, \"implementation\" in options && options.implementation != null\n            ? { ...options, kind }\n            : { ...options, kind, newExpression: newExpression });\n    }\n    /**\n     * Returns true if an instance exists that matches the given identifier.\n     */\n    hasInstance(identifier) {\n        return this.getInstance(identifier) != null;\n    }\n    /**\n     * Gets the cached instance, if any, associated with the given identifier.\n     */\n    getInstance(identifier) {\n        const instance = this.instances.get(identifier);\n        return instance == null ? null : instance;\n    }\n    /**\n     * Gets an IRegistrationRecord associated with the given identifier.\n     */\n    getRegistrationRecord({ identifier, parentChain, }) {\n        const record = this.serviceRegistry.get(identifier);\n        if (record == null) {\n            throw new ReferenceError(`${this.constructor.name} could not find a service for identifier: \"${identifier}\". ${parentChain == null || parentChain.length < 1\n                ? \"\"\n                : `It is required by the service: '${parentChain\n                    .map((parent) => parent.identifier)\n                    .join(\" -> \")}'.`} Remember to register it as a service!`);\n        }\n        return record;\n    }\n    /**\n     * Caches the given instance so that it can be retrieved in the future.\n     */\n    setInstance(identifier, instance) {\n        this.instances.set(identifier, instance);\n        return instance;\n    }\n    /**\n     * Gets a lazy reference to another service\n     */\n    getLazyIdentifier(lazyPointer) {\n        return (new Proxy({}, { get: (_, key) => lazyPointer()[key] }));\n    }\n    /**\n     * Constructs a new instance of the given identifier and returns it.\n     * It checks the constructor arguments and injects any services it might depend on recursively.\n     */\n    constructInstance({ identifier, parentChain = [], }) {\n        const registrationRecord = this.getRegistrationRecord({\n            identifier,\n            parentChain,\n        });\n        // If an instance already exists (and it is a singleton), return that one\n        if (this.hasInstance(identifier) &&\n            registrationRecord.kind === \"SINGLETON\") {\n            return this.getInstance(identifier);\n        }\n        // Otherwise, instantiate a new one\n        let instance;\n        const me = {\n            identifier,\n            ref: this.getLazyIdentifier(() => instance),\n        };\n        // If a user-provided new-expression has been provided, invoke that to get an instance.\n        if (\"newExpression\" in registrationRecord) {\n            if (typeof registrationRecord.newExpression !== \"function\") {\n                throw new TypeError(`Could not instantiate the service with the identifier: '${registrationRecord.identifier}': You provided a custom instantiation argument, but it wasn't of type function. It has to be a function that returns whatever should be used as an instance of the Service!`);\n            }\n            try {\n                instance = registrationRecord.newExpression();\n            }\n            catch (ex) {\n                throw new Error(`Could not instantiate the service with the identifier: '${registrationRecord.identifier}': When you registered the service, you provided a custom instantiation function, but it threw an exception when it was run!`);\n            }\n        }\n        else {\n            // Find the arguments for the identifier\n            const mappedArgs = this.constructorArguments.get(identifier);\n            if (mappedArgs == null) {\n                throw new ReferenceError(`${this.constructor.name} could not find constructor arguments for the service: '${identifier}'. Have you registered it as a service?`);\n            }\n            // Instantiate all of the argument services (or re-use them if they were registered as singletons)\n            const instanceArgs = mappedArgs.map((dep) => {\n                if (dep === undefined)\n                    return undefined;\n                const matchedParent = parentChain.find((parent) => parent.identifier === dep);\n                if (matchedParent != null)\n                    return matchedParent.ref;\n                return this.constructInstance({\n                    identifier: dep,\n                    parentChain: [...parentChain, me],\n                });\n            });\n            try {\n                // Try to construct an instance with 'new' and if it fails, call the implementation directly.\n                const newable = registrationRecord.implementation;\n                instance = new newable(...instanceArgs);\n            }\n            catch (ex) {\n                if (registrationRecord.implementation == null) {\n                    throw new ReferenceError(`${this.constructor.name} could not construct a new service of kind: ${identifier}. Reason: No implementation was given!`);\n                }\n                const constructable = registrationRecord.implementation;\n                // Try without 'new' and call the implementation as a function.\n                instance = constructable(...instanceArgs);\n            }\n        }\n        return registrationRecord.kind === \"SINGLETON\"\n            ? this.setInstance(identifier, instance)\n            : instance;\n    }\n}\nconst DI_COMPILER_ERROR_HINT = `Note: You must use DI-Compiler (https://github.com/wessberg/di-compiler) for this library to work correctly. Please consult the readme for instructions on how to install and configure it for your project.`;\n\nexport { CONSTRUCTOR_ARGUMENTS_SYMBOL, CONSTRUCTOR_ARGUMENTS_SYMBOL_IDENTIFIER, DIContainer };\n//# sourceMappingURL=index.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BrowserDateTimeSource = void 0;\nvar BrowserDateTimeSource = /** @class */ (function () {\n    function BrowserDateTimeSource() {\n        var _this = this;\n        this.toString = function () { return _this.source.toUTCString(); };\n        this.valueOf = function () { return _this.source.getTime(); };\n    }\n    Object.defineProperty(BrowserDateTimeSource.prototype, \"source\", {\n        get: function () {\n            return new Date();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return BrowserDateTimeSource;\n}());\nexports.BrowserDateTimeSource = BrowserDateTimeSource;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst BrowserDateTimeSource = require(\"./browserDateTimeSource\");\nvar core_1 = require(\"@composition/core\");\ncore_1.container.registerSingleton(undefined, { identifier: \"DateTimeSource\", implementation: BrowserDateTimeSource.BrowserDateTimeSource });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst IdGenerator = require(\"./idGenerator\");\nvar nanoid_1 = require(\"nanoid\");\nvar core_1 = require(\"@composition/core\");\ncore_1.container.registerSingleton(function () { return nanoid_1.nanoid; }, { identifier: \"ThirdPartyGenerator\" });\ncore_1.container.registerSingleton(undefined, { identifier: \"UuidGenerator\", implementation: IdGenerator.IdGenerator });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.IdGenerator = void 0;\nvar IdGenerator = /** @class */ (function () {\n    function IdGenerator(adaptee) {\n        var _this = this;\n        this.adaptee = adaptee;\n        this.generate = function () { return _this.adaptee(); };\n    }\n    Object.defineProperty(IdGenerator, Symbol.for(\"___CTOR_ARGS___\"), {\n        get: function () { return [\"ThirdPartyGenerator\"]; },\n        enumerable: false,\n        configurable: true\n    });\n    return IdGenerator;\n}());\nexports.IdGenerator = IdGenerator;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.container = void 0;\nvar di_1 = require(\"@wessberg/di\");\nexports.container = new di_1.DIContainer();\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.container = void 0;\nvar core_1 = require(\"./core\");\nObject.defineProperty(exports, \"container\", { enumerable: true, get: function () { return core_1.container; } });\nrequire(\"../core/composition\");\nrequire(\"../adapters/dateTimeSource/composition\");\nrequire(\"../adapters/uuidGenerator/composition\");\nrequire(\"../effects/eventHandler/composition\");\nrequire(\"../effects/logger/composition\");\nrequire(\"../effects/timer/composition\");\ncore_1.container.registerSingleton(function () { return window; }, { identifier: \"Window\" });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst AppInitiator = require(\"./initiator\");\nvar core_1 = require(\"@composition/core\");\ncore_1.container.registerSingleton(undefined, { identifier: \"AppInitiator\", implementation: AppInitiator.AppInitiator });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AppInitiator = void 0;\nvar AppInitiator = /** @class */ (function () {\n    function AppInitiator(dateTimeSource, idGenerator, clickHandler, logger, timer, env) {\n        var _this = this;\n        this.dateTimeSource = dateTimeSource;\n        this.idGenerator = idGenerator;\n        this.clickHandler = clickHandler;\n        this.logger = logger;\n        this.timer = timer;\n        this.env = env;\n        this.greet = function () { return _this.logger.log('Hello world!'); };\n        this.setupTimer = function () { return _this.timer.invokeEvery(_this.greet, 5000); };\n        this.registerClicks = function () { return _this.clickHandler.on('click', _this.handleClick); };\n        this.handleClick = function (e) {\n            var position = [e.pageX, e.pageY];\n            var datetime = _this.dateTimeSource.toString();\n            var eventId = _this.idGenerator.generate();\n            _this.env.alert(eventId + \", \" + datetime + \": Mouse was clicked at \" + position + \" \");\n        };\n        this.init = function () {\n            _this.setupTimer();\n            _this.registerClicks();\n        };\n    }\n    Object.defineProperty(AppInitiator, Symbol.for(\"___CTOR_ARGS___\"), {\n        get: function () { return [\"DateTimeSource\", \"UuidGenerator\", \"EventHandler\", \"Logger\", \"Timer\", \"Window\"]; },\n        enumerable: false,\n        configurable: true\n    });\n    return AppInitiator;\n}());\nexports.AppInitiator = AppInitiator;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ClickHandler = void 0;\nvar ClickHandler = /** @class */ (function () {\n    function ClickHandler(env) {\n        var _this = this;\n        this.env = env;\n        this.on = function (event, callback) {\n            return _this.env.addEventListener(event, callback);\n        };\n        this.off = function (event, callback) {\n            return _this.env.removeEventListener(event, callback);\n        };\n    }\n    Object.defineProperty(ClickHandler, Symbol.for(\"___CTOR_ARGS___\"), {\n        get: function () { return [\"Window\"]; },\n        enumerable: false,\n        configurable: true\n    });\n    return ClickHandler;\n}());\nexports.ClickHandler = ClickHandler;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst ClickHandler = require(\"./clickHandler\");\nvar core_1 = require(\"@composition/core\");\ncore_1.container.registerSingleton(undefined, { identifier: \"EventHandler\", implementation: ClickHandler.ClickHandler });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst ConsoleLogger = require(\"./consoleLogger\");\nvar core_1 = require(\"@composition/core\");\ncore_1.container.registerSingleton(undefined, { identifier: \"Logger\", implementation: ConsoleLogger.ConsoleLogger });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConsoleLogger = void 0;\nvar ConsoleLogger = /** @class */ (function () {\n    function ConsoleLogger() {\n        this.log = function (message) { return console.log(message); };\n    }\n    return ConsoleLogger;\n}());\nexports.ConsoleLogger = ConsoleLogger;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst FlushTimer = require(\"./timer\");\nvar core_1 = require(\"@composition/core\");\ncore_1.container.registerSingleton(undefined, { identifier: \"Timer\", implementation: FlushTimer.FlushTimer });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FlushTimer = void 0;\nvar FlushTimer = /** @class */ (function () {\n    function FlushTimer() {\n        var _this = this;\n        this.invokeEvery = function (fn, repeatAfter) {\n            _this.dispose();\n            _this.instance = setInterval(fn, repeatAfter);\n        };\n        this.dispose = function () { return _this.instance && clearInterval(_this.instance); };\n    }\n    return FlushTimer;\n}());\nexports.FlushTimer = FlushTimer;\n","let urlAlphabet =\n  'useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict'\nexport { urlAlphabet }\n","import { urlAlphabet } from './url-alphabet/index.js'\nlet random = bytes => crypto.getRandomValues(new Uint8Array(bytes))\nlet customRandom = (alphabet, defaultSize, getRandom) => {\n  let mask = (2 << (Math.log(alphabet.length - 1) / Math.LN2)) - 1\n  let step = -~((1.6 * mask * defaultSize) / alphabet.length)\n  return (size = defaultSize) => {\n    let id = ''\n    while (true) {\n      let bytes = getRandom(step)\n      let j = step\n      while (j--) {\n        id += alphabet[bytes[j] & mask] || ''\n        if (id.length === size) return id\n      }\n    }\n  }\n}\nlet customAlphabet = (alphabet, size = 21) =>\n  customRandom(alphabet, size, random)\nlet nanoid = (size = 21) =>\n  crypto.getRandomValues(new Uint8Array(size)).reduce((id, byte) => {\n    byte &= 63\n    if (byte < 36) {\n      id += byte.toString(36)\n    } else if (byte < 62) {\n      id += (byte - 26).toString(36).toUpperCase()\n    } else if (byte > 62) {\n      id += '-'\n    } else {\n      id += '_'\n    }\n    return id\n  }, '')\nexport { nanoid, customAlphabet, customRandom, urlAlphabet, random }\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar composition_1 = require(\"./composition\");\nvar service = composition_1.container.get({ identifier: \"AppInitiator\" });\nservice.init();\n"],"names":["CONSTRUCTOR_ARGUMENTS_SYMBOL_IDENTIFIER","CONSTRUCTOR_ARGUMENTS_SYMBOL","Symbol","for","DIContainer","constructorArguments","Map","serviceRegistry","instances","registerSingleton","newExpression","options","ReferenceError","DI_COMPILER_ERROR_HINT","this","register","registerTransient","get","constructInstance","has","identifier","kind","implementationArguments","implementation","set","hasInstance","getInstance","instance","getRegistrationRecord","parentChain","record","constructor","name","length","map","parent","join","setInstance","getLazyIdentifier","lazyPointer","Proxy","_","key","registrationRecord","me","ref","TypeError","ex","Error","mappedArgs","instanceArgs","dep","undefined","matchedParent","find","newable","constructable","Object","defineProperty","exports","value","BrowserDateTimeSource","_this","toString","source","toUTCString","valueOf","getTime","prototype","Date","enumerable","configurable","container","IdGenerator","nanoid_1","core_1","nanoid","adaptee","generate","di_1","window","AppInitiator","dateTimeSource","idGenerator","clickHandler","logger","timer","env","greet","log","setupTimer","invokeEvery","registerClicks","on","handleClick","e","position","pageX","pageY","datetime","eventId","alert","init","ClickHandler","event","callback","addEventListener","off","removeEventListener","ConsoleLogger","message","console","FlushTimer","fn","repeatAfter","dispose","setInterval","clearInterval","urlAlphabet","random","bytes","crypto","getRandomValues","Uint8Array","customRandom","alphabet","defaultSize","getRandom","mask","Math","LN2","step","size","id","j","customAlphabet","reduce","byte","toUpperCase","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","module","__webpack_modules__","d","definition","o","obj","prop","hasOwnProperty","call","r","toStringTag"],"sourceRoot":""}